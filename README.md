# Звіт по результатам performance-тестування

## 1. Load Testing (`load-report.json`)
- **Кількість запитів:** 6072 HTTP запитів, з яких 5425 завершились успішно (код 200), 647 — створення ресурсів (код 201).
- **Віртуальні користувачі:** 2160 сесій, жодної помилки чи фейлу.
- **Розподіл по сценаріях:**
  - Browsing Flow: 1309
  - Buying Flow: 647
  - Check Orders: 204
- **Відгук системи:**
  - 99.9% запитів — до 963 мс
  - Найповільніша точка — `/api/products` (до 1652.8 мс для 99.9% запитів)
  - Середня довжина сесії — до 2186.8 мс
- **Висновок:** Система стабільна, всі запити обробляються без помилок, але `/api/products` — вузьке місце по швидкодії.

## 2. MongoDB Slow Queries (`mongo-slow-queries-1766156737255.json`)
- **Аналіз запитів:**
  - Всі запити виконуються в межах 10–20 мс, що є дуже добрим показником для продуктивної бази.
  - Використовуються індекси, відсутні rejected plans.
  - Всі запити — типу `command` до колекції `products`.
- **Висновок:** Проблем із повільними запитами не виявлено, індексація працює коректно.

## 3. Node.js Clinic Reports
- **Heap Profiler (`10372.clinic-heapprofiler.html`):**
  - Витіків пам'яті не виявлено, розподіл heap стабільний.
- **Flamegraph (`13852.clinic-flame.html`):**
  - Основні блоки навантаження: фільтрація, сортування та агрегація даних у продуктах.
  - Вузькі місця — обробка великих масивів, але критичних затримок немає.
- **Doctor (`14544.clinic-doctor.html`):**
  - CPU та memory usage в межах норми.
  - Рекомендації: оптимізувати роботу з великими колекціями у продуктах.
  - Найбільше часу CPU витрачається на функції, пов'язані з обробкою продуктів (`/api/products`).

---

## Загальні рекомендації
- Оптимізувати ендпоінт `/api/products` (можливо, кешування або додаткові індекси).
- Перевірити обробку великих масивів у Node.js.
- Система працює стабільно, критичних проблем не виявлено.

---

## Репозиторій проєкту
[Beerhood/beer-shop-ai-api](https://github.com/Beerhood/beer-shop-ai-api)
